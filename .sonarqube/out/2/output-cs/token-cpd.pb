Ü
]/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Controllers/AirportController.cs
	namespace		 	
Trip		
 
.		 
API		 
.		 
Controllers		 
{

 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
AirportController "
:# $
ControllerBase% 3
{ 
public 
readonly 
IAirportService '
_airportService( 7
;7 8
private 
readonly 
IMapper  
_mapper! (
;( )
public 
AirportController  
(  !
IAirportService! 0
airportService1 ?
,? @
IMapperA H
mapperI O
)O P
{ 	
_airportService 
= 
airportService ,
;, -
_mapper 
= 
mapper 
; 
} 	
[ 	
HttpGet	 
] 
public 
IActionResult 
GetAirportList +
(+ ,
), -
{ 	
var 
AirportList 
= 
_airportService .
.. /
GetAllAirports/ =
(= >
)> ?
;? @
if 
( 
AirportList 
== 
null #
)# $
{   
return!! 
NotFound!! 
(!!  
)!!  !
;!!! "
}"" 
return$$ 
Ok$$ 
($$ 
_mapper$$ 
.$$ 
Map$$ !
<$$! "
IEnumerable$$" -
<$$- .
AirportViewModel$$. >
>$$> ?
>$$? @
($$@ A
AirportList$$A L
)$$L M
)$$M N
;$$N O
}%% 	
}&& 
}'' Ü(
d/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Controllers/AuthenticationController.cs
	namespace 	
Trip
 
. 
Api 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class $
AuthenticationController )
:* +
ControllerBase, :
{ 
private 
readonly 
UserManager $
<$ %
IdentityUser% 1
>1 2
_userManager3 ?
;? @
private 
readonly 
SignInManager &
<& '
IdentityUser' 3
>3 4
_signInManager5 C
;C D
private 
readonly 
IConfiguration '
_configuration( 6
;6 7
private 
readonly 
IEmailService &
_emailService' 4
;4 5
public 
readonly 
IClientService &
_clientService' 5
;5 6
public 
readonly 
IUserService $
_userService% 1
;1 2
public 
readonly 
DbContextClass &

_dbContext' 1
;1 2
public $
AuthenticationController '
(' (
IEmailService( 5
emailService6 B
,B C
DbContextClass  	 
	dbContext   !
,  ! "
IClientService!!	 
clientService!! %
,!!% &
IUserService""	 
userService"" !
,""! "
UserManager##	 
<## 
IdentityUser## !
>##! "
userManager### .
,##. /
SignInManager$$	 
<$$ 
IdentityUser$$ #
>$$# $
signInManager$$% 2
)$$2 3
{%% 	
_emailService&& 
=&& 
emailService&& (
;&&( )

_dbContext'' 
='' 
	dbContext'' "
;''" #
_clientService(( 
=(( 
clientService(( *
;((* +
_userService)) 
=)) 
userService)) &
;))& '
_userManager** 
=** 
userManager** &
;**& '
_signInManager++ 
=++ 
signInManager++ *
;++* +
},, 	
[.. 	
HttpGet..	 
].. 
public//	 
IActionResult// 
	TestEmail// '
(//' (
)//( )
{//) *
var00
 
message00 
=00 
new00 
Message00 #
(00# $
new00$ '
string00( .
[00/ 0
]000 1
{002 3
$str003 F
}00F G
,00G H
$str00H N
,00N O
$str	00O  
)
00  ¡
;
00¡ ¢
_emailService22
 
.22 
	SendEmail22 !
(22! "
message22" )
)22) *
;22* +
return33 
Ok33 
(33 
$str33 0
)330 1
;331 2
}55	 

private88 
JwtSecurityToken88  
GetToken88! )
(88) *
List88* .
<88. /
Claim88/ 4
>884 5

authClaims886 @
)88@ A
{99 	
var:: 
authSigningKey:: 
=::  
new::! $ 
SymmetricSecurityKey::% 9
(::9 :
Encoding::: B
.::B C
UTF8::C G
.::G H
GetBytes::H P
(::P Q
_configuration::Q _
[::_ `
$str::` l
]::l m
)::m n
)::n o
;::o p
var<< 
token<< 
=<< 
new<< 
JwtSecurityToken<< ,
(<<, -
issuer== 
:== 
_configuration== &
[==& '
$str==' 8
]==8 9
,==9 :
audience>> 
:>> 
_configuration>> (
[>>( )
$str>>) <
]>>< =
,>>= >
expires?? 
:?? 
DateTime?? !
.??! "
Now??" %
.??% &
AddDays??& -
(??- .
$num??. /
)??/ 0
,??0 1
claims@@ 
:@@ 

authClaims@@ "
,@@" #
signingCredentialsAA "
:AA" #
newAA$ '
SigningCredentialsAA( :
(AA: ;
authSigningKeyAA; I
,AAI J
SecurityAlgorithmsAAK ]
.AA] ^

HmacSha256AA^ h
)AAh i
)BB 
;BB 
returnDD 
tokenDD 
;DD 
}EE 	
}FF 
internalHH 
classHH 
ResponseHH 
{II 
publicJJ 
stringJJ 
StatusJJ 
{JJ 
getJJ "
;JJ" #
setJJ$ '
;JJ' (
}JJ) *
publicKK 
stringKK 
MessageKK 
{KK 
getKK  #
;KK# $
setKK% (
;KK( )
}KK* +
}LL 
}MM Ï
\/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Controllers/ClientController.cs
	namespace 	
Trip
 
. 
API 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ClientController !
:" #
ControllerBase$ 2
{ 
public 
readonly 
IClientService &
_clientService' 5
;5 6
private 
readonly 
IMapper  
_mapper! (
;( )
public 
ClientController 
(  
IClientService  .
clientService/ <
,< =
IMapper? F
mapperG M
)M N
{ 	
_clientService 
= 
clientService *
;* +
_mapper 
= 
mapper 
; 
} 	
[ 	
HttpGet	 
] 
public   
IActionResult   
GetClientList   *
(  * +
)  + ,
{!! 	
var"" 
ClientsList"" 
="" 
_clientService"" -
.""- .
GetAllClients"". ;
(""; <
)""< =
;""= >
if## 
(## 
ClientsList## 
==## 
null## "
)##" #
{$$ 
return%% 
NotFound%% 
(%%  
)%%  !
;%%! "
}&& 
return'' 
Ok'' 
('' 
_mapper'' 
.'' 
Map'' !
<''! "
IEnumerable''" -
<''- .
ClientViewModel''. =
>''= >
>''> ?
(''? @
ClientsList''@ K
)''K L
)''L M
;''M N
}(( 	
}++ 
},, Ö=
^/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Controllers/DossierController .cs
	namespace 	
Trip
 
. 
API 
. 
Controllers 
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
DossierController "
:# $
ControllerBase% 3
{ 
private 
readonly 
ILogger  
_logger! (
;( )
private 
readonly 
IMapper  
_mapper! (
;( )
private 
readonly 
IDossierService (
_dossierService) 8
;8 9
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
DossierController  
(  !
ILogger! (
<( )
DossierController) :
>: ;
logger< B
,B C
IMapper 
mapper 
, 
IDossierService 
dossierService *
,* +
IConfiguration   
config   !
)  ! "
{!! 	
_logger"" 
="" 
logger"" 
;"" 
_mapper## 
=## 
mapper## 
;## 
_dossierService$$ 
=$$ 
dossierService$$ ,
;$$, -
_config%% 
=%% 
config%% 
;%% 
}'' 	
[)) 	
HttpPost))	 
()) 
$str)) !
)))! "
]))" #
public** 

ActionResult** 
<**  
TripDossierViewModel** ,
>**, -
CreateDossier**. ;
(**; <
[**< =
FromBody**= E
]**E F 
TripDossierViewModel**G [
dossier**\ c
)**c d
{++ 
var,, 
createdDossier,, 
=,, 
_dossierService,, ,
.,,, -

AddDossier,,- 7
(,,7 8
_mapper,,8 ?
.,,? @
Map,,@ C
<,,C D

DossierDTO,,D N
>,,N O
(,,O P
dossier,,P W
),,W X
),,X Y
;,,Y Z
return-- 
CreatedAtAction-- 
(-- 
nameof-- %
(--% &
GetAll--& ,
)--, -
,--- .
dossier--/ 6
)--6 7
;--7 8
}.. 
[00 	
HttpGet00	 
(00 
$str00 
)00 
]00 
public11 
IActionResult11 
GetAll11 #
(11# $
)11$ %
{22 	
_logger33 
.33 
LogInformation33 "
(33" #
$str33# <
)33< =
;33= >
try44 
{55 
var66 
listTripDossiers66 $
=66% &
_dossierService66( 7
.667 8
GetAll668 >
(66> ?
)66? @
;66@ A
return77 
Ok77 
(77 
_mapper77 
.77 
Map77 !
<77! "
IEnumerable77" -
<77- . 
TripDossierViewModel77. B
>77B C
>77C D
(77D E
listTripDossiers77E U
)77U V
)77V W
;77W X
}99 
catch:: 
(:: 
	Exception:: 
	exception:: &
)::& '
{;; 
var<< 
message<< 
=<< 
ExceptionHelper<< -
.<<- .
GetExceptionMassage<<. A
(<<A B
	exception<<B K
)<<K L
;<<L M
_logger== 
.== 
LogError==  
(==  !
message==! (
)==( )
;==) *
return>> 

StatusCode>> !
(>>! "
StatusCodes>>" -
.>>- .(
Status500InternalServerError>>. J
,>>J K
message>>L S
)>>S T
;>>T U
}?? 
}@@ 	
[AA 	
HttpGetAA	 
(AA 
$strAA *
)AA* +
]AA+ ,
publicBB 
IActionResultBB #
GetDossiersByClientNameBB 4
(BB4 5
stringBB5 ;
	firstNameBB< E
,BBE F
stringBBG M
lastNameBBN V
)BBV W
{CC 	
_loggerDD 
.DD 
LogInformationDD "
(DD" #
$"DD# %
$strDD% >
{DD> ?
	firstNameDD? H
}DDH I
$strDDI J
{DDJ K
lastNameDDK S
}DDS T
"DDT U
)DDU V
;DDV W
tryEE 
{FF 
varGG 
dossiersGG 
=GG 
_dossierServiceGG  /
.GG/ 0#
GetDossiersByClientNameGG0 G
(GGG H
	firstNameGGH Q
,GGQ R
lastNameGGS [
)GG[ \
;GG\ ]
returnHH 
OkHH 
(HH 
_mapperHH !
.HH! "
MapHH" %
<HH% &
IEnumerableHH& 1
<HH1 2 
TripDossierViewModelHH2 F
>HHF G
>HHG H
(HHH I
dossiersHHI Q
)HHQ R
)HHR S
;HHS T
}II 
catchJJ 
(JJ 
	ExceptionJJ 
	exceptionJJ &
)JJ& '
{KK 
varLL 
messageLL 
=LL 
ExceptionHelperLL -
.LL- .
GetExceptionMassageLL. A
(LLA B
	exceptionLLB K
)LLK L
;LLL M
_loggerMM 
.MM 
LogErrorMM  
(MM  !
messageMM! (
)MM( )
;MM) *
returnNN 

StatusCodeNN !
(NN! "
StatusCodesNN" -
.NN- .(
Status500InternalServerErrorNN. J
,NNJ K
messageNNL S
)NNS T
;NNT U
}OO 
}PP 	
[RR 	
HttpPostRR	 
(RR 
$strRR 
)RR 
]RR 
publicSS 
IActionResultSS 
BookRoomSS %
(SS% &
DateTimeSS& .
	dateDebutSS/ 8
,SS8 9
DateTimeSS: B
dateFinSSC J
,SSJ K
GuidSSL P
UserIDSSQ W
,SSW X
ListSSY ]
<SS] ^
RoomDTOSS^ e
>SSe f
myBookedRoomsSSg t
)SSt u
{TT 	
_loggerUU 
.UU 
LogInformationUU "
(UU" #
$strUU# :
)UU: ;
;UU; <
tryVV 
{WW 
varXX 
BookedRoomsInfoXX #
=XX$ %
_dossierServiceXX& 5
.XX5 6
BookRoomXX6 >
(XX> ?
	dateDebutXX? H
,XXH I
dateFinXXJ Q
,XXQ R
UserIDXXS Y
,XXY Z
myBookedRoomsXX[ h
)XXh i
;XXi j
returnYY 
OkYY 
(YY 
_mapperYY !
.YY! "
MapYY" %
<YY% &#
BookedRoomInfoViewModelYY& =
>YY= >
(YY> ?
BookedRoomsInfoYY? N
)YYN O
)YYO P
;YYP Q
}[[ 
catch\\ 
(\\ 
	Exception\\ 
	exception\\ &
)\\& '
{]] 
var^^ 
message^^ 
=^^ 
ExceptionHelper^^ -
.^^- .
GetExceptionMassage^^. A
(^^A B
	exception^^B K
)^^K L
;^^L M
_logger__ 
.__ 
LogError__  
(__  !
message__! (
)__( )
;__) *
return`` 

StatusCode`` !
(``! "
StatusCodes``" -
.``- .(
Status500InternalServerError``. J
,``J K
message``L S
)``S T
;``T U
}aa 
}cc 	
}ee 
}ff Ä
\/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Controllers/FlightController.cs
	namespace		 	
Trip		
 
.		 
API		 
.		 
Controllers		 
{

 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 
class 
FlightsController 
:  
ControllerBase! /
{ 
public 

readonly 
IFlightService "
_flightService# 1
;1 2
private 
readonly 
IMapper 
_mapper $
;$ %
public 

FlightsController 
( 
IFlightService +
flightService, 9
,9 :
IMapper; B
mapperC I
)I J
{ 
_flightService 
= 
flightService &
;& '
_mapper 
= 
mapper 
; 
} 
[ 
HttpGet 
] 
public 

IActionResult 
GetFlightsList '
(' (
)( )
{ 
var   
flightsList   
=   
_flightService   )
.  ) *
GetAllFlights  * 7
(  7 8
)  8 9
;  9 :
if!! 

(!! 
flightsList!! 
==!! 
null!! 
)!!  
{"" 	
return## 
NotFound## 
(## 
)## 
;## 
}$$ 	
return&& 
Ok&& 
(&& 
_mapper&& 
.&& 
Map&& 
<&& 
IEnumerable&& )
<&&) *
	FlightDTO&&* 3
>&&3 4
>&&4 5
(&&5 6
flightsList&&6 A
)&&A B
)&&B C
;&&C D
}'' 
}++ 
},, ú
[/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Controllers/hotelController.cs
	namespace 	
Trip
 
. 
API 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 
class 
HotelsController 
: 
ControllerBase  .
{ 
public 

readonly 
IHotelService !
_hotelService" /
;/ 0
private 
readonly 
IMapper 
_mapper $
;$ %
public 

HotelsController 
( 
IHotelService )
hotelService* 6
,6 7
IMapper8 ?
mapper@ F
)F G
{ 
_hotelService 
= 
hotelService $
;$ %
_mapper 
= 
mapper 
; 
} 
[   
HttpGet   
]   
public!! 

IActionResult!! 
GetHotelsList!! &
(!!& '
)!!' (
{"" 
var## 

HotelsList## 
=## 
_hotelService## '
.##' (
GetAllHotels##( 4
(##4 5
)##5 6
;##6 7
if$$ 

($$ 

HotelsList$$ 
==$$ 
null$$ 
)$$ 
{%% 	
return&& 
NotFound&& 
(&& 
)&& 
;&& 
}'' 	
Console(( 
.(( 
	WriteLine(( 
((( 

HotelsList(( (
.((( )
Count(() .
(((. /
)((/ 0
)((0 1
;((1 2
return)) 
Ok)) 
()) 
_mapper)) 
.)) 
Map)) 
<)) 
IEnumerable)) )
<))) *
HotelViewModel))* 8
>))8 9
>))9 :
()): ;

HotelsList)); E
)))E F
)))F G
;))G H
}** 
}.. 
}// É1
Z/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Controllers/UserController.cs
	namespace

 	
Trip


 
.

 
API

 
.

 
Controllers

 
{ 
[ 
Route 
( 
$str 
) 
]  
[ 
ApiController 
] 
public 

class 
UserController 
:  !
ControllerBase" 0
{ 
public 
readonly 
IUserService $
_userService% 1
;1 2
private 
readonly 
IMapper  
_mapper! (
;( )
public 
UserController 
( 
IUserService *
userService+ 6
,6 7
IMapper 
mapper 
) 
{ 	
_userService 
= 
userService &
;& '
_mapper 
= 
mapper 
; 
} 	
[ 	
HttpGet	 
] 
public 
IActionResult 
GetUserList (
(( )
)) *
{ 	
var 
	UsersList 
= 
_userService )
.) *
GetAllUsers* 5
(5 6
)6 7
;7 8
if 
( 
	UsersList 
== 
null  
)  !
{   
return!! 
NotFound!! 
(!!  
)!!  !
;!!! "
}"" 
return## 
Ok## 
(## 
	UsersList## 
)##  
;##  !
}$$ 	
[%% 	
HttpGet%%	 
(%% 
$str%% 
)%% 
]%% 
public&& 
IActionResult&& 
GetUserByEmail&& +
(&&+ ,
string&&, 2
email&&3 8
)&&8 9
{'' 	
try(( 
{)) 
var** 
user** 
=** 
_userService** (
.**( )
GetUserByEmail**) 7
(**7 8
email**8 =
)**= >
;**> ?
if++ 
(++ 
user++ 
==++ 
null++  
)++  !
{,, 
return-- 
NotFound-- #
(--# $
$"--$ &
$str--& 7
{--7 8
email--8 =
}--= >
$str--> J
"--J K
)--K L
;--L M
}.. 
return00 
Ok00 
(00 
user00 
)00 
;00  
}11 
catch22 
(22 
	Exception22 
ex22 
)22  
{33 
return55 

StatusCode55 !
(55! "
$num55" %
,55% &
$str55' >
)55> ?
;55? @
}66 
}77 	
[99 	
HttpPost99	 
]99 
[:: 	

EnableCors::	 
(:: 
$str:: !
)::! "
]::" #
public;; 
IActionResult;; 

CreateUser;; '
(;;' (
UserViewModelData;;( 9
user;;: >
);;> ?
{<< 	
UserViewModel== 
usrData== !
===" #
new==$ '
UserViewModel==( 5
{>> 
Email?? 
=?? 
user?? 
.?? 
Email?? "
,??" #
Password@@ 
=@@ 
user@@ 
.@@  
Password@@  (
,@@( )
	FirstNameAA 
=AA 
userAA  
.AA  !
	FirstNameAA! *
,AA* +
LastNameBB 
=BB 
userBB 
.BB  
LastNameBB  (
,BB( )
PhoneNumberCC 
=CC 
userCC "
.CC" #
PhoneNumberCC# .
,CC. /
PassportNumberDD 
=DD  
userDD! %
.DD% &
PassportNumberDD& 4
,DD4 5
AdresseEE 
=EE 
newEE 
AddressViewModelEE .
{EE/ 0
CityEE1 5
=EE6 7
userEE8 <
.EE< =
AdresseEE= D
}EEE F
}GG 
;GG 
UserDTOHH 

mappedUserHH 
=HH  
_mapperHH! (
.HH( )
MapHH) ,
<HH, -
UserDTOHH- 4
>HH4 5
(HH5 6
usrDataHH6 =
)HH= >
;HH> ?
varII 
isUserCreatedII 
=II 
_userServiceII! -
.II- .
RegisterII. 6
(II6 7

mappedUserII7 A
)IIA B
;IIB C
ifKK 
(KK 
isUserCreatedKK 
)KK 
{LL 
returnMM 
OkMM 
(MM 
isUserCreatedMM '
)MM' (
;MM( )
}NN 
elseOO 
{PP 
returnQQ 

BadRequestQQ !
(QQ! "
)QQ" #
;QQ# $
}RR 
}SS 	
[TT 	
HttpPostTT	 
]TT 
[UU 	
RouteUU	 
(UU 
$strUU 
)UU 
]UU 
publicVV 
IActionResultVV 
LoginVV "
(VV" #
UserLoginViewModelVV# 5
userDataVV6 >
)VV> ?
{WW 	
tryXX 
{YY 
varZZ 
userZZ 
=ZZ 
_userServiceZZ (
.ZZ( )%
GetUserByEmailAndPasswordZZ) B
(ZZB C
userDataZZC K
.ZZK L
EmailZZL Q
,ZZQ R
userDataZZR Z
.ZZZ [
PasswordZZ[ c
)ZZc d
;ZZd e
if[[ 
([[ 
user[[ 
==[[ 
null[[  
)[[  !
{\\ 
return]] 
NotFound]] #
(]]# $
$str]]$ @
)]]@ A
;]]A B
}^^ 
return`` 
Ok`` 
(`` 
user`` 
)`` 
;``  
}aa 
catchbb 
(bb 
	Exceptionbb 
exbb 
)bb  
{cc 
returnee 

StatusCodeee !
(ee! "
$numee" %
,ee% &
$stree' >
)ee> ?
;ee? @
}ff 
}gg 	
}hh 
}ii Ø	
O/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/graphql/airport.cs
	namespace 	
Trip
 
. 
Api 
. 
graphql 
{ 
public 
class 
AirportType 
: 

ObjectType %
<% &
Airport& -
>- .
{ 
	protected 
override 
void 
	Configure %
(% &!
IObjectTypeDescriptor& ;
<; <
Airport< C
>C D

descriptorE O
)O P
{ 

descriptor		 
.		 
Field		 
(		 
h		 
=>		 
h		 
.		  
Id		  "
)		" #
.		# $
Type		$ (
<		( )
IdType		) /
>		/ 0
(		0 1
)		1 2
;		2 3

descriptor

 
.

 
Field

 
(

 
h

 
=>

 
h

 
.

  
Name

  $
)

$ %
.

% &
Type

& *
<

* +

StringType

+ 5
>

5 6
(

6 7
)

7 8
;

8 9
} 
} 
} ¹
O/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/graphql/Dossier.cs
	namespace 	
Trip
 
. 
Api 
. 
graphql 
{ 
public 

class 
DossierType 
: 

ObjectType )
<) *
Dossier* 1
>1 2
{ 
	protected 
override 
void 
	Configure  )
() *!
IObjectTypeDescriptor* ?
<? @
Dossier@ G
>G H

descriptorI S
)S T
{		 	

descriptor

 
.

 
Field

 
(

 
d

 
=>

 !
d

" #
.

# $
Id

$ &
)

& '
.

' (
Type

( ,
<

, -
IdType

- 3
>

3 4
(

4 5
)

5 6
;

6 7

descriptor 
. 
Field 
( 
d 
=> !
d" #
.# $
DossierNumber$ 1
)1 2
.2 3
Type3 7
<7 8

StringType8 B
>B C
(C D
)D E
;E F

descriptor 
. 
Field 
( 
d 
=> !
d" #
.# $
ClientId$ ,
), -
.- .
Type. 2
<2 3
IdType3 9
>9 :
(: ;
); <
;< =

descriptor 
. 
Field 
( 
d 
=> !
d" #
.# $
FlightId$ ,
), -
.- .
Type. 2
<2 3
IdType3 9
>9 :
(: ;
); <
;< =

descriptor 
. 
Field 
( 
d 
=> !
d" #
.# $
BookingRoomId$ 1
)1 2
.2 3
Type3 7
<7 8
IdType8 >
>> ?
(? @
)@ A
;A B

descriptor 
. 
Field 
( 
d 
=> !
d" #
.# $
Client$ *
.* +
UserId+ 1
)1 2
.2 3
Type3 7
<7 8
IdType8 >
>> ?
(? @
)@ A
;A B
} 	
} 
} ‘
N/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/graphql/flight.cs
	namespace 	
Trip
 
. 
Api 
. 
graphql 
{ 
public 

class 

FlightType 
: 

ObjectType (
<( )
Flight) /
>/ 0
{ 
	protected 
override 
void 
	Configure  )
() *!
IObjectTypeDescriptor* ?
<? @
Flight@ F
>F G

descriptorH R
)R S
{ 	

descriptor		 
.		 
Field		 
(		 
h		 
=>		 !
h		" #
.		# $
Id		$ &
)		& '
.		' (
Type		( ,
<		, -
IdType		- 3
>		3 4
(		4 5
)		5 6
;		6 7

descriptor

 
.

 
Field

 
(

 
h

 
=>

 !
h

" #
.

# $

FlightDate

$ .
)

. /
.

/ 0
Type

0 4
<

4 5
DateType

5 =
>

= >
(

> ?
)

? @
;

@ A

descriptor 
. 
Field 
( 
h 
=> !
h" #
.# $
FlightNumber$ 0
)0 1
.1 2
Type2 6
<6 7

StringType7 A
>A B
(B C
)C D
;D E
} 	
} 
} Ð	
M/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/graphql/hotel.cs
	namespace 	
Trip
 
. 
Api 
. 
graphql 
{ 
public 
class 
	HotelType 
: 

ObjectType #
<# $
Hotel$ )
>) *
{ 
	protected 
override 
void 
	Configure %
(% &!
IObjectTypeDescriptor& ;
<; <
Hotel< A
>A B

descriptorC M
)M N
{ 

descriptor		 
.		 
Field		 
(		 
h		 
=>		 
h		 
.		  
Id		  "
)		" #
.		# $
Type		$ (
<		( )
IdType		) /
>		/ 0
(		0 1
)		1 2
;		2 3

descriptor

 
.

 
Field

 
(

 
h

 
=>

 
h

 
.

  
Name

  $
)

$ %
.

% &
Type

& *
<

* +

StringType

+ 5
>

5 6
(

6 7
)

7 8
;

8 9
} 
} 
} †:
M/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/graphql/types.cs
public 
class 
GraphQLQueryType 
: 

ObjectType  *
{ 
	protected 
override 
void 
	Configure %
(% &!
IObjectTypeDescriptor& ;

descriptor< F
)F G
{		 

descriptor

 
.

 
Name

 
(

 
$str

 
)

  
;

  !

descriptor
 
. 
Field 
( 
$str #
)# $
. 
Type 
< 
ListType 
< 
	HotelType $
>$ %
>% &
(& '
)' (
. 
Resolver 
( 
context 
=>  
{ 
var 

unitOfWork 
=  
context! (
.( )
Service) 0
<0 1
IUnitOfWork1 <
>< =
(= >
)> ?
;? @
var 
hotels 
= 

unitOfWork '
.' (
Hotels( .
.. /
GetAllHotelsDetails/ B
(B C
)C D
;D E
return 
hotels 
; 
} 
) 
; 

descriptor 
. 
Field 
( 
$str "
)" #
. 
Type 
< 
ListType 
< 

FlightType %
>% &
>& '
(' (
)( )
. 
Resolver 
( 
context 
=>  
{ 
var 

unitOfWork 
=  
context! (
.( )
Service) 0
<0 1
IUnitOfWork1 <
>< =
(= >
)> ?
;? @
var 
flights 
= 

unitOfWork (
.( )
Flights) 0
.0 1 
GetAllFlightsDetails1 E
(E F
)F G
;G H
return 
flights 
; 
} 
) 
; 

descriptor 
. 
Field 
( 
$str #
)# $
. 
Type 
< 
ListType 
< 
DossierType &
>& '
>' (
(( )
)) *
.   
Resolver   
(   
context   
=>    
{!! 
var"" 

unitOfWork"" 
=""  
context""! (
.""( )
Service"") 0
<""0 1
IUnitOfWork""1 <
>""< =
(""= >
)""> ?
;""? @
var## 
dossiers## 
=## 

unitOfWork## )
.##) *
Dossiers##* 2
.##2 3
GetAllReservations##3 E
(##E F
)##F G
;##G H
return$$ 
dossiers$$ 
;$$  
}%% 
)%% 
;%% 

descriptor'' 
.'' 
Field'' 
('' 
$str'' /
)''/ 0
.(( 
Type(( 
<(( 
ListType(( 
<(( 
DossierType(( &
>((& '
>((' (
(((( )
)(() *
.)) 
Argument)) 
()) 
$str)) !
,))! "
arg))# &
=>))' )
arg))* -
.))- .
Type)). 2
<))2 3

StringType))3 =
>))= >
())> ?
)))? @
)))@ A
.** 
Argument** 
(** 
$str**  
,**  !
arg**" %
=>**& (
arg**) ,
.**, -
Type**- 1
<**1 2

StringType**2 <
>**< =
(**= >
)**> ?
)**? @
.++ 
Resolver++ 
(++ 
context++ 
=>++  
{,, 
var-- 

unitOfWork-- 
=--  
context--! (
.--( )
Service--) 0
<--0 1
IUnitOfWork--1 <
>--< =
(--= >
)--> ?
;--? @
var.. 
	firstName.. 
=.. 
context..  '
...' (
Argument..( 0
<..0 1
string..1 7
>..7 8
(..8 9
$str..9 D
)..D E
;..E F
var// 
lastName// 
=// 
context// &
.//& '
Argument//' /
</// 0
string//0 6
>//6 7
(//7 8
$str//8 B
)//B C
;//C D
var00 
dossiers00 
=00 

unitOfWork00 )
.00) *
Dossiers00* 2
.002 3#
GetDossiersByClientName003 J
(00J K
	firstName00K T
,00T U
lastName00V ^
)00^ _
;00_ `
return11 
dossiers11 
;11  
}22 
)22 
;22 

descriptor44 
.44 
Field44 
(44 
$str44 
)44 
.55 
Type55 
<55 
	HotelType55 
>55 
(55 
)55 
.66 
Argument66 
(66 
$str66 
,66 
arg66 
=>66  "
arg66# &
.66& '
Type66' +
<66+ ,
IdType66, 2
>662 3
(663 4
)664 5
)665 6
.77 
Resolver77 
(77 
context77 
=>77  
{88 
var99 

unitOfWork99 
=99  
context99! (
.99( )
Service99) 0
<990 1
IUnitOfWork991 <
>99< =
(99= >
)99> ?
;99? @
var:: 
hotelId:: 
=:: 
context:: %
.::% &
Argument::& .
<::. /
Guid::/ 3
>::3 4
(::4 5
$str::5 9
)::9 :
;::: ;
var;; 
hotel;; 
=;; 

unitOfWork;; &
.;;& '
Hotels;;' -
.;;- .
GetHotelById;;. :
(;;: ;
hotelId;;; B
);;B C
;;;C D
return<< 
hotel<< 
;<< 
}== 
)== 
;== 

descriptorAA 
.AA 
FieldAA 
(AA 
$strAA #
)AA# $
.BB 
TypeBB 
<BB 
ListTypeBB 
<BB 
AirportTypeBB !
>BB! "
>BB" #
(BB# $
)BB$ %
.CC 
ResolverCC 
(CC 
contextCC 
=>CC 
{DD 
varEE 

unitOfWorkEE 
=EE 
contextEE #
.EE# $
ServiceEE$ +
<EE+ ,
IUnitOfWorkEE, 7
>EE7 8
(EE8 9
)EE9 :
;EE: ;
varFF 
airportsFF 
=FF 

unitOfWorkFF $
.FF$ %
AirportsFF% -
.FF- .!
GetAllAirportsDetailsFF. C
(FFD E
)FFE F
;FFF G
returnGG 
airportsGG 
;GG 
}HH 
)HH 	
;HH	 

}II 
}JJ á
W/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Helpers/ExceptionHelper.cs
	namespace 	
Trip
 
. 
API 
. 
Helpers 
{ 
public 

static 
class 
ExceptionHelper '
{ 
public 
static 
string 
GetExceptionMassage 0
(0 1
	Exception1 :
	exception; D
)D E
{ 	
return		 
	exception		 
.		 
InnerException		 +
!=		, .
null		/ 3
?		4 5
	exception		6 ?
.		? @
InnerException		@ N
.		N O
Message		O V
:		W X
	exception		Y b
.		b c
Message		c j
;		j k
}

 	
} 
} ©
]/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/MappingProfiles/Adressprofile.cs
	namespace 	
Trip
 
. 
Api 
. 
MappingProfiles "
{ 
public 

class 
Adressprofile 
:  
Profile! (
{ 
public 
Adressprofile 
( 
) 
{		 	
	CreateMap

 
<

 
AddressViewModel

 &
,

& '

AddressDTO

( 2
>

2 3
(

3 4
)

4 5
;

5 6
	CreateMap 
< 

AddressDTO  
,  !
AddressViewModel" 2
>2 3
(3 4
)4 5
;5 6
} 	
} 
} ¬
^/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/MappingProfiles/AirportProfile.cs
	namespace 	
Trip
 
. 
Api 
. 
MappingProfiles "
{ 
public 

class 
AirportProfile 
:  !
Profile" )
{ 
public	 
AirportProfile 
( 
)  
{		 	
	CreateMap

 
<

 
AirportViewModel

 &
,

& '

AirportDTO

( 2
>

2 3
(

3 4
)

4 5
;

5 6
	CreateMap 
< 

AirportDTO  
,  !
AirportViewModel" 2
>2 3
(3 4
)4 5
;5 6
} 	
} 
} ¥
]/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/MappingProfiles/ClientProfile.cs
	namespace 	
Trip
 
. 
Api 
. 
MappingProfiles "
{ 
public 

class 
ClientProfile 
:  
Profile! (
{ 
public	 
ClientProfile 
( 
) 
{		 	
	CreateMap

 
<

 
ClientViewModel

 %
,

% &
	ClientDTO

' 0
>

0 1
(

1 2
)

2 3
;

3 4
	CreateMap 
< 
	ClientDTO 
,  
ClientViewModel! 0
>0 1
(1 2
)2 3
;3 4
} 	
} 
} ž	
^/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/MappingProfiles/DossierProfile.cs
	namespace 	
Trip
 
. 
API 
. 
MappingProfiles "
{ 
public 

class 
DossierProfile 
:  !
Profile" )
{		 
public

 
DossierProfile

 
(

 
)

 
{ 	
	CreateMap 
<  
TripDossierViewModel *
,* +

DossierDTO, 6
>6 7
(7 8
)8 9
;9 :
	CreateMap 
< 

DossierDTO  
,  ! 
TripDossierViewModel" 6
>6 7
(7 8
)8 9
;9 :
	CreateMap 
< 
BookedRoomInfoDTO '
,' (#
BookedRoomInfoViewModel) @
>@ A
(A B
)B C
;C D
	CreateMap 
< #
BookedRoomInfoViewModel -
,- .
BookedRoomInfoDTO/ @
>@ A
(A B
)B C
;C D
} 	
} 
} ž
\/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/MappingProfiles/ExtraProfile.cs
	namespace 	
Trip
 
. 
Api 
. 
MappingProfiles "
{ 
public 

class 
ExtraProfile 
: 
Profile  '
{ 
public 
ExtraProfile 
( 
) 
{ 	
	CreateMap		 
<		 
ExtraViewModel		 #
,		# $
ExtraDTO		% -
>		- .
(		. /
)		/ 0
;		0 1
	CreateMap

 
<

 
ExtraDTO

 
,

 
ExtraViewModel

  .
>

. /
(

/ 0
)

0 1
;

1 2
} 	
} 
} ¥
]/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/MappingProfiles/FlightProfile.cs
	namespace 	
Trip
 
. 
Api 
. 
MappingProfiles "
{ 
public 

class 
FlightProfile 
:  
Profile! (
{ 
public 
FlightProfile 
( 
) 
{		 	
	CreateMap

 
<

 
FlightViewModel

 %
,

% &
	FlightDTO

' 0
>

0 1
(

1 2
)

2 3
;

3 4
	CreateMap 
< 
	FlightDTO 
,  
FlightViewModel! 0
>0 1
(1 2
)2 3
;3 4
} 	
} 
} ž
\/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/MappingProfiles/HotelProfile.cs
	namespace 	
Trip
 
. 
Api 
. 
MappingProfiles "
{ 
public 

class 
HotelProfile 
: 
Profile  '
{ 
public	 
HotelProfile 
( 
) 
{		 	
	CreateMap

 
<

 
HotelViewModel

 $
,

$ %
HotelDTO

& .
>

. /
(

/ 0
)

0 1
;

1 2
	CreateMap 
< 
HotelDTO 
, 
HotelViewModel  .
>. /
(/ 0
)0 1
;1 2
} 	
} 
} —
[/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/MappingProfiles/UserProfile.cs
	namespace 	
Trip
 
. 
Api 
. 
MappingProfiles "
{ 
public 

class 
UserProfile 
: 
Profile &
{ 
public 
UserProfile 
( 
) 
{		 	
	CreateMap

 
<

 
UserViewModel

 #
,

# $
UserDTO

% ,
>

, -
(

- .
)

. /
;

/ 0
	CreateMap 
< 
UserDTO 
, 
UserViewModel ,
>, -
(- .
). /
;/ 0
} 	
} 
} Ï
G/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Program.cs
	namespace

 	
Trip


 
.

 
Api

 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder .
(. /
args/ 3
)3 4
. 
ConfigureLogging &
(& '
(' (
context( /
,/ 0
logging1 8
)8 9
=> 
{ 
logging  
.  !
ClearProviders! /
(/ 0
)0 1
;1 2
logging  
.  !
AddConfiguration! 1
(1 2
context2 9
.9 :
Configuration: G
.G H

GetSectionH R
(R S
$strS \
)\ ]
)] ^
;^ _
logging  
.  !
AddDebug! )
() *
)* +
;+ ,
logging  
.  !

AddConsole! +
(+ ,
), -
;- .
} 
) 
. $
ConfigureWebHostDefaults .
(. /

webBuilder/ 9
=>: <
{ 

webBuilder #
.# $

UseStartup$ .
<. /
Startup/ 6
>6 7
(7 8
)8 9
;9 :
}!! 
)!! 
;!! 
}"" 
}## [
Y/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Resolvers/AirportResolver.csÓD
G/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Startup.cs
	namespace 	
Trip
 
. 
Api 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddDIServices "
(" #
Configuration# 0
)0 1
;1 2
services 
. 
AddAutoMapper "
(" #
	AppDomain# ,
., -
CurrentDomain- :
.: ;
GetAssemblies; H
(H I
)I J
)J K
;K L
services!! 
.!! 
	AddScoped!! 
<!! 
IHotelService!! ,
,!!, -
HotelService!!. :
>!!: ;
(!!; <
)!!< =
;!!= >
services"" 
."" 
	AddScoped"" 
<"" 
IFlightService"" -
,""- .
FlightService""/ <
>""< =
(""= >
)""> ?
;""? @
services## 
.## 
	AddScoped## 
<## 
IAirportService## .
,##. /
AirportService##0 >
>##> ?
(##? @
)##@ A
;##A B
services$$ 
.$$ 
	AddScoped$$ 
<$$ 
IUserService$$ +
,$$+ ,
UserService$$- 8
>$$8 9
($$9 :
)$$: ;
;$$; <
services%% 
.%% 
	AddScoped%% 
<%% 
IClientService%% -
,%%- .
ClientService%%/ <
>%%< =
(%%= >
)%%> ?
;%%? @
services&& 
.&& 
	AddScoped&& 
<&& 
IBookingRoomService&& 2
,&&2 3
BookingRoomService&&4 F
>&&F G
(&&G H
)&&H I
;&&I J
services'' 
.'' 
	AddScoped'' 
<'' 
IDossierService'' .
,''. /
DossierService''0 >
>''> ?
(''? @
)''@ A
;''A B
services** 
.** 
	AddScoped** 
<** 
IDossierRepository** 1
,**1 2
DossierRepository**3 D
>**D E
(**E F
)**F G
;**G H
services++ 
.++ 
	AddScoped++ 
<++ 
IAdressRepository++ 0
,++0 1
AdressRepository++2 B
>++B C
(++C D
)++D E
;++E F
services,, 
.,, 
	AddScoped,, 
<,, "
IBookingRoomRepository,, 5
,,,5 6!
BookingRoomRepository,,7 L
>,,L M
(,,M N
),,N O
;,,O P
services-- 
.-- 
	AddScoped-- 
<-- 
IRoomRepository-- .
,--. /
RoomRepository--0 >
>--> ?
(--? @
)--@ A
;--A B
services.. 
... 
AddGraphQLServer.. %
(..% &
)..& '
.// 
AddQueryType// 
<// 
GraphQLQueryType// )
>//) *
(//* +
)//+ ,
.00 
AddType00 
<00 
graphql00 
.00 
	HotelType00 %
>00% &
(00& '
)00' (
.11 
AddApolloTracing11 
(11 
)11 
;11 
services44 
.44 
AddCors44 
(44 
c44 
=>44 !
{55 
c66 
.66 
	AddPolicy66 
(66 
$str66 )
,66) *
options66+ 2
=>663 5
options666 =
.66= >
AllowAnyOrigin66> L
(66L M
)66M N
)66N O
;66O P
}77 
)77 
;77 
services;; 
.;; 
	Configure;; 
<;; 
IdentityOptions;; .
>;;. /
(;;/ 0
opts<< 
=><< 
opts<< 
.<< 
SignIn<< #
.<<# $!
RequireConfirmedEmail<<$ 9
=<<: ;
true<<< @
)== 
;== 
var@@ 
emailConfig@@ 
=@@ 
Configuration@@ +
.@@+ ,

GetSection@@, 6
(@@6 7
$str@@7 K
)@@K L
.@@L M
Get@@M P
<@@P Q
EmailConfiguration@@Q c
>@@c d
(@@d e
)@@e f
;@@f g
servicesAA 
.AA 
AddSingletonAA !
(AA! "
emailConfigAA" -
)AA- .
;AA. /
servicesCC 
.CC 
	AddScopedCC 
<CC 
IEmailServiceCC ,
,CC, -
EmailServiceCC. :
>CC: ;
(CC; <
)CC< =
;CC= >
servicesDD 
.DD 
AddControllersDD #
(DD# $
)DD$ %
.DD% &
AddJsonOptionsDD& 4
(DD4 5
optionsDD5 <
=>DD= ?
{EE 
optionsFF 
.FF !
JsonSerializerOptionsFF !
.FF! "
ReferenceHandlerFF" 2
=FF3 4
ReferenceHandlerFF5 E
.FFE F
IgnoreCyclesFFF R
;FFR S
optionsGG 
.GG !
JsonSerializerOptionsGG !
.GG! "
WriteIndentedGG" /
=GG0 1
trueGG2 6
;GG6 7
}HH 
)HH 
;HH 
servicesJJ 
.JJ 
AddSwaggerGenJJ "
(JJ" #
cJJ# $
=>JJ% '
{KK 
cLL 	
.LL	 


SwaggerDocLL
 
(LL 
$strLL 
,LL 
newLL 
OpenApiInfoLL *
{LL+ ,
TitleLL- 2
=LL3 4
$strLL5 E
,LLE F
VersionLLG N
=LLO P
$strLLQ U
}LLV W
)LLW X
;LLX Y
}MM 
)MM 
;MM 
}OO 	
publicRR 
voidRR 
	ConfigureRR 
(RR 
IApplicationBuilderRR 1
appRR2 5
,RR5 6
IWebHostEnvironmentRR7 J
envRRK N
)RRN O
{SS 	
ifUU 
(UU 
envUU 
.UU 
IsDevelopmentUU !
(UU! "
)UU" #
)UU# $
{VV 
appWW 
.WW 
UseCorsWW 
(WW 
builderWW #
=>WW$ &
builderWW' .
.XX 
AllowAnyOriginXX 
(XX  
)XX  !
.YY 
AllowAnyMethodYY 
(YY  
)YY  !
.ZZ 
AllowAnyHeaderZZ 
(ZZ  
)ZZ  !
)ZZ! "
;ZZ" #
app\\ 
.\\ %
UseDeveloperExceptionPage\\ -
(\\- .
)\\. /
;\\/ 0
app^^ 
.^^ 

UseSwagger^^ 
(^^ 
)^^  
;^^  !
app`` 
.`` 
UseSwaggerUI``  
(``  !
c``! "
=>``# %
{aa 
cbb 
.bb 
SwaggerEndpointbb %
(bb% &
$strbb& @
,bb@ A
$strbbB T
)bbT U
;bbU V
}cc 
)cc 
;cc 
}ff 
appgg 
.gg 
UseHttpsRedirectiongg #
(gg# $
)gg$ %
;gg% &
appjj 
.jj 

UseRoutingjj 
(jj 
)jj 
;jj 
appll 
.ll 
UseAuthorizationll  
(ll  !
)ll! "
;ll" #
appnn 
.nn 
UseCorsnn 
(nn 
$strnn %
)nn% &
;nn& '
appoo 
.oo 
UseStaticFilesoo 
(oo 
)oo  
;oo  !
apptt 
.tt 
UseEndpointstt 
(tt 
	endpointstt &
=>tt' )
{uu 
	endpointsvv 
.vv 
MapControllersvv *
(vv* +
)vv+ ,
;vv, -
	endpointsxx 
.xx 

MapGraphQLxx #
(xx# $
pathxx$ (
:xx( )
$strxx) 3
)xx3 4
;xx4 5
}zz 
)zz 
;zz 
}{{ 	
}|| 
}}} Õ	
_/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/Validators/TripDossierValidator.cs
	namespace 	
Trip
 
. 
API 
. 

Validators 
. 
Dossier %
{ 
public 

class  
TripDossierValidator %
:& '
AbstractValidator( 9
<9 : 
TripDossierViewModel: N
>N O
{ 
public  
TripDossierValidator #
(# $
)$ %
{		 	
RuleFor

 
(

 
m

 
=>

 
m

 
.

 
DossierNumber

 (
)

( )
.

) *
NotEmpty

* 2
(

2 3
)

3 4
.

4 5
WithMessage

5 @
(

@ A
$str

A d
)

d e
;

e f
RuleFor 
( 
m 
=> 
m 
. 
DossierNumber (
)( )
.) *
MaximumLength* 7
(7 8
$num8 :
): ;
.; <
WithMessage< G
(G H
$strH u
)u v
;v w
} 	
} 
} þ

[/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/AddressViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
AddressViewModel !
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
City 
{ 
get  
;  !
set" %
;% &
}' (
public		 
string		 
Country		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public

 
string

 
Region

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
string 

PostalCode  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
float 
Latitude 
{ 
get  #
;# $
set% (
;( )
}* +
public 
float 
	Longitude 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Á	
\/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/AirplaneViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
AirplaneViewModel "
:# $
BaseModelViewModel% 7
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
public		 

int		 
Capacity		 
{		 
get		 
;		 
set		 "
;		" #
}		$ %
public

 

string

 
Company

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 

ICollection 
< $
FlightAirplanesViewModel /
>/ 0
FlightAirplanes1 @
{A B
getC F
;F G
setH K
;K L
}M N
} 
} ¯

[/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/AirportViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
AirportViewModel !
{ 
public
 
Guid 
Id 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
public		 

string		 
Code		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public

 

Guid

 
	AddressId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 

AddressViewModel 
Address #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

List 
< #
FlightAirportsViewModel '
>' (
FlightAirports) 7
{8 9
get: =
;= >
set? B
;B C
}D E
} 
} Ž
j/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/Authentication/Login/LoginModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
. 
Authentication ,
., -
Login- 2
{ 
public 

class 

LoginModel 
{ 
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 8
)8 9
]9 :
public 
string 
? 
Username 
{  !
get" %
;% &
set' *
;* +
}, -
[		 	
Required			 
(		 
ErrorMessage		 
=		  
$str		! 7
)		7 8
]		8 9
public

 
string

 
?

 
Password

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
} 
} 
m/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/Authentication/SignUp/RegisterUser.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
. 
Authentication ,
., -
SignUp- 3
{ 
public 

class 
RegisterUser 
{ 
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 8
)8 9
]9 :
public 
string 
? 
Username 
{  !
get" %
;% &
set' *
;* +
}, -
[		 	
EmailAddress			 
]		 
[

 	
Required

	 
(

 
ErrorMessage

 
=

  
$str

! 4
)

4 5
]

5 6
public 
string 
? 
Email 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 7
)7 8
]8 9
public 
string 
? 
Password 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} è
]/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/BaseModelViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
BaseModelViewModel #
{ 
public	 
DateTime 
? 
	CreatedAt #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

string 
	CreatedBy 
{ 
get !
;! "
set# &
;& '
}( )
public		 

DateTime		 
?		 
LastModifiedAt		 #
{		$ %
get		& )
;		) *
set		+ .
;		. /
}		0 1
public

 

string

 

ModifiedBy

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
} 
} 
b/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/BookedRoomInfoViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class #
BookedRoomInfoViewModel (
{ 
public 

string 
TotalAmount 
{ 
get  #
;# $
set% (
;( )
}* +
public		 

int		 

CountRooms		 
{		 
get		 
;		  
set		! $
;		$ %
}		& '
}

 
} ¯

_/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/BookingRoomViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class  
BookingRoomViewModel %
{ 
public
 
Guid 
Id 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
Type 
{ 
get 
; 
set !
;! "
}# $
public		 

DateTime		 
	StartDate		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public

 

DateTime

 
EndDate

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 

decimal 
TotalAmount 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

ICollection 
< 
RoomViewModel $
>$ %
Rooms& +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
} 
} »
Z/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/ClientViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
ClientViewModel  
:! "
UserViewModel# 0
{		 
public

 

Guid

 
ClientId

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 

string 
PassportNumber  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

bool 
IsActive 
{ 
get 
; 
set  #
;# $
}% &
public 

Guid 
	AdresseId 
{ 
get 
;  
set! $
;$ %
}& '
public 
Guid 
UserId 
{ 
get  
;  !
set" %
;% &
}' (
public 
AddressViewModel 
Address  '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
UserViewModel 
user !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Õ
a/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/DossierFlightViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class "
DossierFlightViewModel '
{ 
public		 
Guid		 
	DossierId		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
public

 

Guid

 
FlightId

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 
 
TripDossierViewModel 
Dossier  '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 

FlightViewModel 
Flight !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Î
a/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/Exception/ErrorDetails.cs
	namespace 	
Trip
 
. 
API 
. 

ViewModels 
. 
	Exception '
{ 
public 

class 
ErrorDetails 
{ 
public 
int 

StatusCode 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Message 
{ 
get  #
;# $
set% (
;( )
}* +
public		 
override		 
string		 
ToString		 '
(		' (
)		( )
{

 	
return 
JsonConvert 
. 
SerializeObject .
(. /
this/ 3
)3 4
;4 5
} 	
} 
} Î

Y/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/ExtraViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
ExtraViewModel 
:  !
BaseModelViewModel" 4
{ 
public 

string 

OptionName 
{ 
get "
;" #
set$ '
;' (
}) *
public		 

bool		 
IsFree		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public

 

decimal

 
OptionPrice

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 

bool 
IsActive 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
Icon 
{ 
get 
; 
set !
;! "
}# $
public 

ICollection 
< 
RoomViewModel $
>$ %
Rooms& +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
} 
} ¥	
c/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/FellowTravellerViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class $
FellowTravellerViewModel )
:* +
BaseModelViewModel, >
{ 
public 

string 
Relationship 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
PassportNumber  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 

int		 
Age		 
{		 
get		 
;		 
set		 
;		 
}		  
public

 

Guid

 
?

 
ClientId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 

ClientViewModel 
Client !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Ô
c/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/FlightAirplanesViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class $
FlightAirplanesViewModel )
{ 
public 

Guid 
FlightId 
{ 
get 
; 
set  #
;# $
}% &
public 

Guid 

AirplaneId 
{ 
get  
;  !
set" %
;% &
}' (
public		 

AirplaneViewModel		 
Airplane		 %
{		& '
get		( +
;		+ ,
set		- 0
;		0 1
}		2 3
public

 

FlightViewModel

 
Flight

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
} 
} þ
b/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/FlightAirportsViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 
class	 #
FlightAirportsViewModel &
:' (
BaseModelViewModel) ;
{ 
public		 

Guid		 
FlightId		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
public

 

Guid

 
	AirportId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 

AirportViewModel 
Airport #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

FlightViewModel 
Flight !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} ð

Z/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/FlightViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
FlightViewModel  
:! "
BaseModelViewModel# 5
{ 
public 

DateTime 

FlightDate 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
FlightNumber 
{  
get! $
;$ %
set& )
;) *
}+ ,
public		 

ICollection		 
<		 #
FlightAirportsViewModel		 .
>		. /
FlightAirports		0 >
{		? @
get		A D
;		D E
set		F I
;		I J
}		K L
public

 

ICollection

 
<

 $
FlightAirplanesViewModel

 /
>

/ 0
FlightAirplanes

1 @
{

A B
get

C F
;

F G
set

H K
;

K L
}

M N
public 

ICollection 
< "
DossierFlightViewModel -
>- .
DossierFlights/ =
{> ?
get@ C
;C D
setE H
;H I
}J K
} 
} à
]/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/getFlightsResponse.cs
	namespace 	
Trip
 
. 
API 
. 

ViewModels 
; 
public 
class 
GetFlightResponse 
{ 
public		 

Guid		 
Id		 
{		 
get		 
;		 
set		 
;		 
}		  
public

 

DateTime

 

FlightDate

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 

string 
FlightNumber 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

List 
< !
FlightAirportResponse %
>% &
FlightAirports' 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 

List 
< "
FlightAirplaneResponse &
>& '
FlightAirplanes( 7
{8 9
get: =
;= >
set? B
;B C
}D E
} 
public 
class !
FlightAirportResponse "
{ 
public 

Guid 
	AirportId 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
AirportName 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
AirportCode 
{ 
get  #
;# $
set% (
;( )
}* +
} 
public 
class "
FlightAirplaneResponse #
{ 
public 

Guid 

AirplaneId 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
AirplaneName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

int 
Capacity 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Company 
{ 
get 
;  
set! $
;$ %
}& '
} ‰
[/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/getHotelResponse.cs
	namespace 	
Trip
 
. 
API 
. 

ViewModels 
; 
public		 
class		 
GetHotelResponse		 
{

 
public

 
Guid

 
Id

 
{

 
get

 
;

 
set

 
;

 
}

  !
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
public 

Address 
Adress 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
Ville 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Website 
{ 
get 
;  
set! $
;$ %
}& '
public 

double 
Rating 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
Image 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
PhoneNumber 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
public 

int 
NumberOfRooms 
{ 
get "
;" #
set$ '
;' (
}) *
public 
ICollection 
<  
Room  $
>$ %
Rooms& +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
}   ï
Y/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/HotelViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
HotelViewModel 
:  !
BaseModelViewModel" 4
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
public		 

Guid		 
	AddressId		 
{		 
get		 
;		  
set		! $
;		$ %
}		& '
public

 

string

 
Ville

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 

string 
Website 
{ 
get 
;  
set! $
;$ %
}& '
public 

double 
Rating 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
Image 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
PhoneNumber 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
public 

int 
NumberOfRooms 
{ 
get "
;" #
set$ '
;' (
}) *
public 

ICollection 
< 
RoomViewModel $
>$ %
Rooms& +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 

AddressViewModel 
Address #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} Î
X/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/RoomViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
RoomViewModel 
:  
BaseModelViewModel! 3
{ 
public 

string 
Type 
{ 
get 
; 
set !
;! "
}# $
public 

double 
Price 
{ 
get 
; 
set "
;" #
}$ %
public		 

decimal		 
Discount		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 

bool

 
IsAvailable

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 

Guid 
HotelId 
{ 
get 
; 
set "
;" #
}$ %
public 

HotelViewModel 
Hotel 
{  !
get" %
;% &
set' *
;* +
}, -
public 

ICollection 
<  
BookingRoomViewModel +
>+ ,
BookingRoom- 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 

ICollection 
< 
ExtraViewModel %
>% &
Extra' ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
} 
} ‚
_/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/TripDossierViewModel.cs
	namespace 	
Trip
 
. 
API 
. 

ViewModels 
{ 
public 

class  
TripDossierViewModel %
{ 
public		 
Guid		 
Id		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public

 
string

 
DossierNumber

 #
{

$ %
get

& )
;

) *
set

+ .
;

. /
}

0 1
public 
Guid 
ClientId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Guid 
? 
FlightId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Guid 
? 
BookingRoomId "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
virtual 
ICollection "
<" #
DossierFlight# 0
>0 1
dossierFlights2 @
{A B
getC F
;F G
setH K
;K L
}M N
public 
virtual 
Client 
Client $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
virtual 
Flight 
Flight $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
virtual 
BookingRoom "
BookingRoom# .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
} 
} ¬
]/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/UserLoginViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
UserLoginViewModel #
:$ %
BaseModelViewModel& 8
{ 
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Password 
{ 
get  
;  !
set" %
;% &
}' (
}		 
}

 Õ
X/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/UserViewModel.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
UserViewModel 
:  
BaseModelViewModel! 3
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
public		 

string		 
Password		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
public

 

string

 
	FirstName

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 

string 
LastName 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
PhoneNumber 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
PassportNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
AddressViewModel 
Adresse  '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
} 
} ¿
\/home/firas/Musique/05_04_2024 backend/Trip_Backend/Trip.Api/ViewModels/UserViewModelData.cs
	namespace 	
Trip
 
. 
Api 
. 

ViewModels 
{ 
public 

class 
UserViewModelData "
:# $
BaseModelViewModel% 7
{ 
public 

string 
Email 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Password 
{ 
get  
;  !
set" %
;% &
}' (
public		 

string		 
	FirstName		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 

string

 
LastName

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

string 
PhoneNumber 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
PassportNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Adresse 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} 